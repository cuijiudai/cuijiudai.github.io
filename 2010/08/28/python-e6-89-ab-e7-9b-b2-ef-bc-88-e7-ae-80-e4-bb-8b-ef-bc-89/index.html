<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Python 扫盲（简介） | 美拓blog | 做个有趣的人</title>

  
  <meta name="author" content="独孤逸辰">
  

  
  <meta name="description" content="互联网开发者，金融爱好者,关注农业民生。">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="Python 扫盲（简介）"/>

  <meta property="og:site_name" content="美拓blog"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="美拓blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">美拓blog</a>
    </h1>
    <p class="site-description">做个有趣的人</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article >

  
    
    <h3 class="article-title"><span>Python 扫盲（简介）</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2010/08/28/python-e6-89-ab-e7-9b-b2-ef-bc-88-e7-ae-80-e4-bb-8b-ef-bc-89/" rel="bookmark">
        <time class="entry-date published" datetime="2010-08-28T13:32:36.000Z">
          2010-08-28
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><span>Posted:</span> 12 Aug 2010 07:05 AM PDT</p><p></p>
<p>最近想学一点全能型的语言，c,c++ 太老，java 太火，动态语言显然是我想选的，简单么但是强大，效率不是问题，随着硬件的提高，一门语言的流行更多的是与其简单程度、文档的完备、应用范围有关。我徘徊于Ruby 和 Python 之间，不知道那个更好，而国内国际还是Python 有着更广泛的使用者，Ruby 现在凭借rails框架一统江湖，但只是在web开发领域大方光彩，而Python 各个方面都有着广泛的应用，而google app engine 是Python的，这更促使我先学习一下Python。下文是转载于<a href="http://program-think.blogspot.com/2009/08/why-choose-python-0-overview.html" target="_blank" rel="external">编程随想的博客</a>（原文需要翻墙，这是一个系列的前三篇，后续还没更新）。</p>
<p><span id="more-812"></span><br><a id="more"></a></p>
<h3 id="为什么俺推荐Python-1-：作为脚本语言的Python"><a href="#为什么俺推荐Python-1-：作为脚本语言的Python" class="headerlink" title="为什么俺推荐Python[1]：作为脚本语言的Python"></a>为什么俺推荐Python[1]：作为脚本语言的Python</h3><p>　　俺窃以为，Python的所有特征中，作为<strong>脚本语言</strong>（具体定义参见“<a href="http://en.wikipedia.org/wiki/Scripting_language" target="_blank" rel="external">这里</a>”）是它的首要特征。因此，在本系列帖子中，俺首先来忽悠一下Python作为脚本语言，有些啥好处？</p>
<p>★<strong>脚本语言好在哪？</strong></p>
<p>要聊Python作为脚本语言的好处，首先得说说脚本语言自身有哪些优点。一般来说，当我们提及“脚本语言”，都是强调其解释执行的特性（虽然有些脚本语言也支持编译）。所以，后面陈述的这些优点，大都是拿编译型语言来进行对比。</p>
<p>◇更高层次的抽象和封装</p>
<p>　　大部分脚本语言都提供了比较高层次的抽象和封装。像很多脚本语言都内置了字符串处理能力以及正则表达式（典型代表就是Perl）。还有很多脚本语言都内置了高级的数据结构。比如Python在语言层面支持了链表（Python的术语叫List）、映射（Python的术语叫Dict）、元组（Python的术语叫Tuple）。</p>
<p>　　有了这些高层次的封装，你写起代码来，就特别滴简单、特别滴爽。比如，在Python中要把一个List翻倍，只需这么写：[1,2,3] * 2 就得到 [1,2,3,1,2,3]</p>
<p>◇更少的代码量</p>
<p>　　得益于高层次的封装，在完成相同功能的前提下，脚本语言的代码量会比编译型语言少很多。</p>
<p>　　比如说，要打印出某个文本文件的内容，如果用Java实现，正常的写法大概要七、八行代码（把所有代码硬挤到一行的，不予讨论）；用Python也就三、五行。<br>　　再比如说，抓取给定URL的web网页，用Python自带的标准库实现，大概３－５行代码；但如果用C++实现，代码量会增加许多（具体要写多少代码，取决于你用的http库）。<br>　　代码量少了之后，至少你看代码的时候（无论是看自己的还是看别人的），能少敲很多次的翻页键，大大延长了键盘的寿命，顺便降低了手指头的劳损。</p>
<p>　　◇更平缓的学习曲线<br>　　通常，脚本语言的语法都比较简单、傻瓜化。因此，入门也就容易很多。稍微有一些编程基础的人，就能够在短时间内上手。<br>　　比如俺手下的C++、Java程序员，以及某些测试人员，都可以在一周内（程序员用不着一周，一般就1、2天）掌握Python的语法并用来写一些辅助的小工具。大大减少了俺培训的口水。</p>
<p>　　◇支持交互式<br>　　很多脚本语言的IDE支持交互式写代码。也就是说，你每写完一行代码，解释器就执行一把。这样能很快发现输入错误，而且还可以立即看到执行结果。</p>
<p>　　★<strong>脚本语言有啥缺点？</strong><br>　　前面说了那么多优点，那脚本语言有啥缺点捏？主要的缺点就是性能差。这是他们为上述优点所付出的沉重代价。所幸当今的计算机硬件突飞猛进，性能差的缺点已经越来越不明显了。</p>
<p>　　★<strong>Python和其它脚本语言的比较</strong><br>　　有同学可能要问了，脚本语言有很多，为啥俺独独青睐Python捏？为了回答这个问题，俺拿Python和一些常见的脚本语言作一些肤浅的比较。<br>　　鉴于后面的内容极易引发语言的口水战，俺特此声明：虽然接下来会提及某些语言相对于python的缺点，但俺绝无贬低这些语言的企图，也无意证明python比这些语言优秀！俺只是陈述一下当初是如何在几种脚本语言中进行取舍的？<br>　　除了Python之外，常见的脚本语言还有很多，比如：PHP、JavaScript（以下简称JS）、Perl、VBScript（以下简称VBS）、Ruby、Bash、Lua、Tcl（可别误以为是某家电厂商:-）……Python是如何从这些脚本语言中脱颖而出的捏？俺挑选的时候，主要考虑了如下几点：</p>
<p>　　◇通用性（跨领域）<br>　　因为俺懒得学太多编程语言。所以，俺希望熟悉一门脚本语言之后，能够尽量多帮俺搞定不同领域的事儿。从这点来看，俺就不会选择PHP（太偏重于Web服务端）、JS（太偏重于Web客户端）、诸如Bash之类的Shell脚本（太偏重于系统管理）。<br>　　而Python则属于通用的脚本语言，覆盖范围很广。比如Web开发、桌面GUI应用、系统管理、网络应用等许多领域，Python都可以轻易搞定。</p>
<p>　　◇人气够旺<br>　　关于“人气”的重要性，俺在“<a href="http://program-think.blogspot.com/2009/02/how-to-choose-opensource-project.html" target="_blank" rel="external">如何选择开源项目</a>”中，有介绍过。人气越高、越流行，就意味着更多的资源（包括文档、相关软件），当你碰到问题需要解决，也有更多的人可以咨询。<br>　　关于编程语言的流行程度，可以大致参考<a href="http://www.tiobe.com/content/paperinfo/tpci/" target="_blank" rel="external">TIOBE</a>的排名（虽然TIOBE不能全面反映流行程度，但至少可作为某种参考）。<br>　　像Tcl、PowerShell、Groovy、JavaFX等都排在３０名之外（截至到09年8月），感觉用的人少，俺暂时不予考虑。而Python最近几年的排名则一路上升（请看“<a href="http://www.tiobe.com/content/paperinfo/tpci/Python.html" target="_blank" rel="external">这里</a>”），截止到09年8月，已经高踞排行榜第６位。Perl虽然也身居高位，但是最近几年的排名一路下滑（请看“<a href="http://www.tiobe.com/content/paperinfo/tpci/Perl.html" target="_blank" rel="external">这里</a>”）。俺个人认为，其人气不容乐观。</p>
<p>　　◇功能够强、库够丰富<br>　　另一个俺很看重的地方是功能是否够强大。在这点上，Python和Perl都算是比较强悍的。关于Python如何强悍，俺会在后续的帖子“作为瑞士军刀的Python”中加以介绍。<br>　　反观JS、Ruby、Tcl等语言，则稍显不足（当然，也有可能俺孤陋寡闻）。</p>
<p>　　◇跨平台<br>　　由于俺平时会使用不同的操作系统，再加上俺负责的产品也是跨平台的。所以，俺对脚本语言有跨平台的要求。说到跨平台，诸如VBS、Bash之流就不予考虑了。<br>　　其实，很多脚本语言都支持跨平台。而Python在这方面，更为出众。不光支持主流的操作系统，还支持一些冷门的（比如古老的DOS），还支持手持设备（俺的智能手机就可以装Python运行环境）。</p>
<p>　　◇和其它语言的整合、交互<br>　　最后这一点，估计大多数同学不会太关心。俺因为要在公司的产品中引入脚本技术，所以俺还得考虑该脚本语言和其它语言的整合能力。整合能力强的脚本语言，可以作为复杂系统中的胶水，用来把不同模块粘合在一起（关于Glue Language，可以参见“<a href="http://en.wikipedia.org/wiki/Glue_language" target="_blank" rel="external">这里</a>”）。<br>　　在这方面，Python和Ruby的表现都不错。它们和Java的整合有<a href="http://en.wikipedia.org/wiki/Jython" target="_blank" rel="external">Jython</a>、<a href="http://en.wikipedia.org/wiki/JRuby" target="_blank" rel="external">JRuby</a>；和dotNet平台的整合有<a href="http://en.wikipedia.org/wiki/IronPython" target="_blank" rel="external">IronPython</a>、<a href="http://en.wikipedia.org/wiki/IronRuby" target="_blank" rel="external">IronRuby</a>。至于俺常用的C++，Python整合得比Ruby好。比如C++社区大名鼎鼎的Boost库里面，就有一个Boost.Python的子库（见“<a href="http://www.boost.org/doc/libs/release/libs/python/doc" target="_blank" rel="external">这里</a>”）。关于Python如何用作胶水，俺会在后续的帖子“作为胶合语言的Python”中会详细介绍。</p>
<p>　　基于上述几个方面的考虑，俺最终选择了Python作为俺日常的脚本工具，并把它引入到公司的产品中，作为模块之间的胶合剂.</p>
<h3 id="为什么俺推荐Python-2-：作为动态语言的Python"><a href="#为什么俺推荐Python-2-：作为动态语言的Python" class="headerlink" title="为什么俺推荐Python[2]：作为动态语言的Python"></a>为什么俺推荐Python[2]：作为动态语言的Python</h3><p>　★<strong>动态语言扫盲</strong><br>　　考虑到还有很多同学对动态语言了解不深入，有必要先来普及一下它的基本常识。已经了解的同学，请略过本节。<br>　　通俗地说：能够在运行时修改自身程序结构的语言，就属于动态语言。那怎样才算是“运行时修改自身程序结构”捏？比如下面这几个例子都 算：在<strong>运行时</strong>给某个类增加成员函数及成员变量；在<strong>运行时</strong>改变某个类的父类；在<strong>运行时</strong>创建出某个函数；．．．．．．<br>　　从这些例子，你应该对动态语言有一个初步的感觉了吧？毕竟传统的静态语言（比如C、C++、Java），是很难达到这些效果滴。<br>　　另外，有个误区需要澄清一下。很多同学以为脚本语言也就是动态语言。其实两者是<strong>不</strong>等价滴&mdash;&mdash;虽然两者有很大的交集。比如C#在4.0之后，就可以算是动态语言了，但它不能算是脚本语言；另外，有很多Shell脚本语言，不能算是动态语言。<br>　　关于动态语言更深入的介绍，大伙儿可以看“<a href="http://en.wikipedia.org/wiki/Dynamic_programming_language" target="_blank" rel="external">这里</a>”。</p>
<p>　　★<strong>为啥要学习动态语言？</strong><br>　　扫盲之后，就该来说一下，学习动态语言的动机了。搞明白动机，学起来才有干劲嘛 <strong>)</strong></p>
<p>　　◇顺应大趋势<br>　　假如你经常关注<a href="http://www.tiobe.com/content/paperinfo/tpci/" target="_blank" rel="external">TIOBE</a>的排名，那你应该能察觉出来，动态语言近两年的发展势头比较迅猛（在Top10里面，至少占了半壁江山）。这能从某个侧面反映出动态语言的影响力在扩大。<br>　　假使你不相信<a href="http://www.tiobe.com/content/paperinfo/tpci/" target="_blank" rel="external">TIOBE</a>的排名，俺再举一个例子。两大开发阵营（Java和dotNet）最近几年也加大了对动态语言的支持力度。比如，dotNet的CLR加入了对<a href="http://en.wikipedia.org/wiki/IronPython" target="_blank" rel="external">IronPython</a>和<a href="http://en.wikipedia.org/wiki/IronRuby" target="_blank" rel="external">IronRuby</a>的支持；Sun当然也不甘示弱，JVM也开始支持<a href="http://en.wikipedia.org/wiki/Groovy_%28programming_language%29" target="_blank" rel="external">Groovy</a>，<a href="http://en.wikipedia.org/wiki/JRuby" target="_blank" rel="external">JRuby</a>等语言。<br>　　俺费了这许多口水，列位看官应该明白动态语言是大势所趋吧。在这动态语言大行其道的日子里，你如果连一门动态语言都没搞懂，那出门都不好意思跟人打招呼。<br>　　不过，话又说回来，静态语言也是不会消亡滴。毕竟，静态语言有自己的优势（比如严谨、性能）。长期来说，必定是动态语言和静态语言并存。各自弥补对方的缺点。</p>
<p>　　◇了解新思维、新理念<br>　　学习一门动态语言还有一个好处：。有很多时候，多学习一门语言，并不一定是为了在工作中用它，而是为了学习新的思维方式、体会新的理念。比如俺就曾经花时间去看<a href="http://en.wikipedia.org/wiki/Prolog" target="_blank" rel="external">Prolog</a>，但是俺在工作中，从来不需要用到它。（以后有空的话，俺会介绍一下这玩意儿）<br>　　由于动态语言可以在运行时修改自身结构，因此就会产生很多静态语言所没有编程范式和手法（比如<a href="http://en.wikipedia.org/wiki/Eval" target="_blank" rel="external">eval</a>、<a href="http://en.wikipedia.org/wiki/Mixin" target="_blank" rel="external">Mixin</a>，后面会顺带介绍这两个玩意儿）。如果你以前只使用静态语言，那你在学习了动态语言之后，多半会从它身上领略到很多新的思想和理念。</p>
<p>　　◇能够化繁为简<br>　　可能有些同学觉得，前面说的都有些务虚，那咱再来说点具体实在的。大牛<a href="http://en.wikipedia.org/wiki/Edsger_W._Dijkstra" target="_blank" rel="external">Edsger Dijkstra</a>（图灵奖得主）曾经说过：“编程的艺术就是处理复杂性的艺术。”咱们来看看，动态语言是如何处理复杂问题滴。<br>　　假设要你实现一个函数，用来完成两个数的<strong>某种</strong>运算，具体的运算类型作为函数的参数传入，然后该函数返回运算结果。比如：</p>
<p><font face="Courier New"><br>　　Foo(”+”, 2, 4)　返回 6<br>　　Foo(”*”, 2, 2)　返回 4<br></font><br>　　对于上述需求，你会如何实现捏？<br>　　请先暗自盘算1分钟，然后再往下看。</p>
<p>　　．．．．．．<br>　　Ｔｈｉｎｋｉｎｇ<br>　　．．．．．．</p>
<p>　　如果你用静态语言（比如C、C++、Java）来实现，你可能会在函数内使用一个switch，根据不同的运算符，进行计算，然后返回计算结果。<br>　　对于某些比较ＯＯ的语言（例如C++、Java），你或许还会抽象出一个运算的接口类（纯虚类），然后分别派生出若干个不同的计算类（比如加法类、乘法类），看起来似乎比switch要优雅一些。<br>　　当然，用静态语言还有其它一些玩法，但是代码量都不会少。具体详情可以看很早以前的一个老故事：<a href="http://www.cnblogs.com/linkcd/archive/2005/07/19/196087.html" target="_blank" rel="external">4个程序员的一天</a>。（其实俺这个例子的灵感就是从那个老故事剽窃滴）<br>　　现在，咱们来看看Python是如何实现该需求滴。用Python只需要<strong>两行</strong>代码即可。请看：</p>
<pre><font face="Courier New">def Foo(op, n1, n2) :    return eval( "%d %s %d" % (n1, op, n2) )</font></pre>

<p>　　不懂Python的同学可能要问了，这两行代码是啥子意思呀？<br>　　其实，第一行代码只不过是定义了一个函数头，第2行代码才是精华。这里面利用了动态语言常见的<strong>eval</strong>手法（具体参见“<a href="http://en.wikipedia.org/wiki/Eval" target="_blank" rel="external">这里</a>”）。在python里面，内置的<strong>eval</strong>函数可以把某个字符串当成一个表达式，并对其求值。而语句 <font face="Courier New"><u>“%d %s %d” % (n1, op, n2)</u></font> 只不过格式化出一个表达式的字符串。<br>　　顺便再插一句，Python还有一个<strong>exec</strong>的内置函数，可以把一段Python源代码作为字符串参数传递给它，让该函数去执行。两个函数结合起来，就能玩出很多花样。具体的花样可以参见“<a href="http://program-think.blogspot.com/2009/08/examples-of-eval.html" target="_blank" rel="external">这里</a>”</p>
<p>　　★<strong>为什么是Python？</strong><br>　　说了动态语言的种种好话，有同学会问了，动态语言有很多种，为啥非要学习Python捏？<br>　　首先，俺在<a href="http://program-think.blogspot.com/2009/08/why-choose-python-0-overview.html" target="_blank" rel="external">本系列</a>的<a href="http://program-think.blogspot.com/2009/08/why-choose-python-1-script.html" target="_blank" rel="external">上一个帖子</a>，已经对比过Python和另外几种脚本语言。那几种脚本语言正好也是知名的动态语言。Python相对于他们的优势，此处就不再重复啰嗦了。<br>　　其次，单就语法本身而言，Python的语法对动态性的支持是很优雅、很简洁滴。通过刚才那个<strong>eval</strong>小例子，大伙应该已经看出来了。为了更形象一点，咱拿前面提到的<a href="http://en.wikipedia.org/wiki/Mixin" target="_blank" rel="external">Mixin</a>来Show一下Python的语法是如何的简洁。<br>　　通俗地说，<strong>Mixin</strong>手法需要在<strong>运行时</strong>给某个类增加基类（也就是父类）。对于Python而言，每一个类都有一个内置属性“<strong>bases</strong>”，里面包含这个类<strong>当前</strong>的所有基类。假如要在<strong>运行时</strong>增加基类，操作“<strong>bases</strong>”这个属性即可。<br>　　比如有一个类A和类B。如果要在运行时把B加为A的父类，可以用如下语句：</p>
<p><font face="Courier New">A.<strong>bases</strong> += (B, )</font><br>　　是不是也很简洁，而且可读性也不差？相比而言，有些动态语言（比如JavaScript），要实现类似的效果，代码就相对复杂了。<br>　　由于Mixin不是今天的重点，就不再深入展开了。</p>
<p>　　最后，来个总结发言：如果你之前没有接触过动态语言，建议去学习一下；如果你已经打定主意要学，Python是比较好的候选者。</p>
<h3 id="为啥俺推荐Python-3-：作为面向对象语言的Python"><a href="#为啥俺推荐Python-3-：作为面向对象语言的Python" class="headerlink" title="为啥俺推荐Python[3]：作为面向对象语言的Python"></a>为啥俺推荐Python[3]：作为面向对象语言的Python</h3><p>　★<strong>抽象（Abstraction）</strong><br>　　但凡介绍OOP，自然会提到抽象。因为抽象，是OO的第一要素，也是其它要素的基础。而提到抽象，又不免提到对象（Object）。所以，俺首先来聊一下，Python语言是如何体现对象的。</p>
<p>　　◇Python的对象<br>　　如果要问俺，什么是Python中的对象，还真不好下一个严密又通俗易懂的定义。为了敷衍大伙儿，俺只好用一句话来概括，那就是Python语言中，<strong>一切皆对象</strong>。这句话该如何理解捏？简单来说，就是你在Python语言中涉及到的各种东东，都是“对象”。比如，函数是对象、各种数值（比如整数值、浮点数值、布尔值）是对象、模块（类似于Java的package）是对象、None（类似于Java的空引用null、C++的空指针NULL）也是对象、……<br>　　对比一下C++和Java的语法：只有类的实例才能算得上是对象。连基本类型（比如int、char、float、等）都算不上对象，至于函数，就更算不上了。<br>　　既然是一切皆对象，俺有必要稍微总结一下，Python对象的共性，否则初学Python的同学还是会一头雾水。</p>
<p>　　◇对象的属性<br>　　首先，所有的Python的对象，都具有若干个属性。你可以通过内置的dir()函数进行反射，从而了解到某个对象分别都包含哪些属性。熟悉Java的同学，应该明白啥是”反射”。光懂C/C++的同学，如果理解上有困难，可以参见“<a href="http://en.wikipedia.org/wiki/Reflection_%28computer_science%29" target="_blank" rel="external">这里</a>”。<br>　　另外，Python还提供了若干内置的函数，用于在<strong>运行时</strong>操作指定对象的属性。具体如下：</p>
<pre><font face="Courier New">hasattr(obj, name)&nbsp; #判断obj对象是否具有名为name的属性setattr(obj, name, value)&nbsp; #设置obj对象的名为name的属性值为valuegetattr(obj, name)&nbsp; #获取obj对象的名为name的属性值delattr(obj, name)&nbsp; #删除obj对象的名为name的属性</font></pre>

<p>　　◇对象的类型<br>　　所有的Python对象，都可以通过内置的type()函数获取该对象的类型。这实际上就是Python的<a href="http://en.wikipedia.org/wiki/Run-time_type_information" target="_blank" rel="external">RTTI</a>机制的体现。懂C++的同学，可以回顾一下C++的typeid关键字；懂Java的同学，可以想一想instanceof关键字。</p>
<p>　　◇对象的标示<br>　　所有的Python对象，都可以通过内置的id()函数获取该对象的<strong>唯一</strong>标示。而且当一个对象创建之后，这个唯一标示就会始终保持不变。对于学过C/C++的同学，不妨把这个唯一标示想象成该对象在内存的地址。这或许有助于你的理解 </p>
<p>　　Python对象还有其它一些共性，考虑到本文的扫盲性质，就不再费口水了。有兴趣的同学，可以自己找些入门书研读一番。</p>
<p>　　◇“一切皆对象”的好处？<br>　　可能有同学会问，“一切皆对象”有啥好处捏？俺窃以为：当一切皆为对象，就可以把很多概念、操作、惯用手法统一起来，在语法层面体现出美感。<br>　　下面俺举几个例子，并拿Java来对比一下。<br>　　在Java里面，由于基本类型不是继承自Object类，引出不少麻烦。当初Java它爹刚开始设计容器类（比如Vector、ArrayList、…）的时候，颇费了一番功夫。因为容器里面放置的东东必须是Object，为了让容器能适应基本类型，只好给每一种基本类型分别对应一个派生自Object的包装类（Integer类对应int、Float类对应float、…）；后来又平添了自动装箱/拆箱的概念。而Python就没有这方面的困扰。<br>　　再拿刚才提及的“反射”来说事儿。虽然Java语言支持对象的反射，但是Java的package不是Object，所以也就无法对package进行反射。反观Python，任何一个module（相当于Java的package）import之后，都可以直接通过前面提到的dir()函数进行反射，得知该module包含了哪些东东。仅仅需要2行代码：</p>
<pre><font face="Courier New">import xxxdir(xxx)</font></pre>

<p>　　★<strong>封装（Encapsulation）</strong><br>　　为了避免歧义，首先要明确一下：什么是“封装”？其实OOP的封装，可分为狭义和广义两种。</p>
<p>　　◇广义封装<br>　　所谓广义的封装，就是把数据和操作数据的行为，打包到一起，就算是封装；比如C++/Java里的class，可以同时包含数据成员和函数成员，就已经满足广义的封装了。对于Python而言，其class关键字类似于C++和Java，已经具有广义的封装性。</p>
<p>　　◇狭义封装<br>　　而狭义的封装，则更进一步，增加了访问控制。比如C++和Java的public、protected、private关键字，就是为了做到狭义的封装。Python虽然没有针对访问控制的关键字来修饰类成员，但是Python采用了另外一套机制&mdash;&mdash;根据命名来约定。在Python的对象中，如果某个属性以双下划线开头来命名（比如 __name），就能起到类似于private的效果。</p>
<p>　　◇对访问控制的偏见<br>　　俺曾经在某技术论坛看到有人质疑Python的访问控制机制，说Python的私有属性，可以通过反射机制绕过，因此形同虚设。在此，俺想举C++和Java来进行反驳。<br>　　在Java中，同样可以通过反射机制，来访问类的私有成员。至于C++，得益于指针的强大，只要能访问某个对象（的this指针），通过计算该对象成员变量在内存中的偏移，即可轻易对其进行读写。虽然这么干挺变态滴，但理论上是可行滴。</p>
<p>　　★<strong>继承（Inheritance）</strong><br>　　紧接着，咱再来说一下继承的话题。</p>
<p>　　◇Python的继承<br>　　Python没有像Java那样，区分出类继承（OO的术语中也叫“实现继承”）、接口继承；也没有像C++那样，区分出公有继承、私有继承、保护继承这么花哨的玩意儿。Python就只有一种继承方式。</p>
<p>　　◇继承的语法<br>　　Python的继承语法，相比C++/Java而言，更加简洁。比如子类Child需要继承父类Parent，代码只需如下：</p>
<pre><font face="Courier New">class Child(Parent) :</font></pre>

<p>　　如果是多继承，代码大同小异：</p>
<pre><font face="Courier New">class Child(Parent1, Parent2, Parent3) :</font></pre>

<p>　　如果你想知道某个类有哪些父类（基类），只需要通过 Child.<strong>bases</strong> 便可知晓。</p>
<p>　　◇继承的动态性<br>　　其实<a href="http://program-think.blogspot.com/2009/08/why-choose-python-2-dynamic.html" target="_blank" rel="external">上一个帖子</a>已经介绍了动态改变继承关系的例子。然而上一个帖子年代久远（距今快1年），想必很多同学没看过或者看过又忘了。俺不妨再啰嗦一下。作为一种动态语言，Python可以在<strong>运行时</strong>修改类的继承关系。这个特性比较酷，是C++/Java所望尘莫及滴。请看下面的例子：</p>
<pre><font face="Courier New">class Parent1 :&nbsp;&nbsp;&nbsp; def dump(self) :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; print("parent1")

class Parent2 :  &nbsp;&nbsp;&nbsp; def dump(self) :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; print("parent2")

class Child :&nbsp;&nbsp;&nbsp; def dump(self) :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; print("child")

print(Child.__bases__)Child.__bases__ += (Parent1, Parent2) # 动态追加了2个父类    print(Child.__bases__) # 打印出的父类信息中，已经包含Parent1、Parent2</font></pre>

<p>　　★<strong>多态（Polymorphism）</strong><br>　　至于Python的多态，和传统的OO语言差不多，似乎没有太多值得说道的地方。俺简单举个代码作例子。为了省打字，直接复用上述的3个类，然后再另外增加一个test()函数如下：</p>
<pre><font face="Courier New">def test(obj) :&nbsp;&nbsp;&nbsp; obj.dump()</font></pre>

<p>　　然后对test()函数分别传入不同的类型的对象，后面俺就无需多说了吧？</p>
<pre><font face="Courier New">c = Child()test(c)  # 打印出 childp1 = Parent1()test(p1)  # 打印出 parent1</font></pre>

<p>　</p>

      
    </div>
  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/Python/">Python</a>
    </span>
    

    

    </div>

    
  </div>
</article>

  




    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2016 独孤逸辰
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>
