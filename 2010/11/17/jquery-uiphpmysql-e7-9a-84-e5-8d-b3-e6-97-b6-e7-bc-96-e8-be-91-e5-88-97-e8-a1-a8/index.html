<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>jQuery UI,PHP,Mysql的即时编辑列表 | 美拓blog | 做个有趣的人</title>

  
  <meta name="author" content="独孤逸辰">
  

  
  <meta name="description" content="互联网开发者，金融爱好者,关注农业民生。">
  

  
  
  <meta name="keywords" content="">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="jQuery UI,PHP,Mysql的即时编辑列表"/>

  <meta property="og:site_name" content="美拓blog"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="美拓blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">美拓blog</a>
    </h1>
    <p class="site-description">做个有趣的人</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article >

  
    
    <h3 class="article-title"><span>jQuery UI,PHP,Mysql的即时编辑列表</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2010/11/17/jquery-uiphpmysql-e7-9a-84-e5-8d-b3-e6-97-b6-e7-bc-96-e8-be-91-e5-88-97-e8-a1-a8/" rel="bookmark">
        <time class="entry-date published" datetime="2010-11-17T13:56:22.000Z">
          2010-11-17
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p><span>Posted:</span> 05 Apr 2010 08:50 AM PDT</p>
<p><img src="http://blog.meituo.net/wp-content/uploads/daiban_ajax_php_jquery/807.jpg" alt="即使编辑的列表项"></p>
<p>在这个教程里我们将做一个即时修改待办事务列表（Todo List ），我们将使用PHP，Mysql和jQuery。这个过程中我们将使用看到PHP的面向对象能力。使用jQuery UI 并且添加一些AJAX应用。<span id="more-526"></span></p>
<div class="download"><br><a href="http://demo.tutorialzine.com/2010/03/ajax-todo-list-jquery-php-mysql-css/demo.php" target="_blank" rel="external">示例</a><a href="http://demo.tutorialzine.com/2010/03/ajax-todo-list-jquery-php-mysql-css/demo.zip" target="_blank" rel="external">下载</a><br></div><a id="more"></a><br><br>为了更好的理解教程的步骤，你可以先用上面按钮下载 <strong>demo</strong>。<br><br>###  步骤1 -PHP<br><br>由于这是更多的是面向开发人员的教程，我们将先开始PHP的一部分。不像以前的教程，这次我们利用面向对象的PHP 5的功能。<br><br>&gt; 笔者假定你的对面向对象编程核心概念和PHP 5的面向对象的执行情况有一个基本了解。作为一个快速参考，可以看看这些PHP知识：OOP的基本知识，静态方法，异常，神奇的方法。<a href="http://php.net/manual/en/language.oop5.basic.php" target="_blank" rel="external">OOP Basics</a>, <a href="http://php.net/manual/en/language.oop5.static.php" target="_blank" rel="external">Static Methods</a>, <a href="http://php.net/manual/en/language.exceptions.php" target="_blank" rel="external">Exceptions</a>, <a href="http://php.net/manual/en/language.oop5.magic.php#language.oop5.magic.tostring" target="_blank" rel="external">Magic Methods</a>.<br><br>所有提供给用户的功能 包括:创建，编辑，删除和重新排序待办事项&mdash;&mdash;将作为一个类的不同的方法会在下面详细解释。<br><br>#### todo.class.php -Part 1<br><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">/* Defining the ToDo class */</div><div class="line"></div><div class="line">class ToDo&#123;</div><div class="line"></div><div class="line">	/* 作为存储待办事务的数组: */</div><div class="line"></div><div class="line">	private $data;</div><div class="line"></div><div class="line">	/* 构造函数 */</div><div class="line">	public function __construct($par)&#123;</div><div class="line">		if(is_array($par))</div><div class="line">			$this-&gt;data = $par;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	/*</div><div class="line">		This is an in-build "magic" method that is automatically called</div><div class="line">		by PHP when we output the ToDo objects with echo.</div><div class="line">	*/</div><div class="line"></div><div class="line">	public function __toString()&#123;</div><div class="line"></div><div class="line">		// The string we return is outputted by the echo statement</div><div class="line"></div><div class="line">		return '</div><div class="line">			&lt;li id="todo-'.$this-&gt;data['id'].'" class="todo"&gt;</div><div class="line"></div><div class="line">				&lt;div class="text"&gt;'.$this-&gt;data['text'].'&lt;/div&gt;</div><div class="line"></div><div class="line">				&lt;div class="actions"&gt;</div><div class="line">					[Edit]()</div><div class="line">					[Delete]()</div><div class="line">				&lt;/div&gt;</div><div class="line"></div><div class="line">			&lt;/li&gt;';</div><div class="line">	&#125;</div></pre></td></tr></table></figure><br><br>构造函数接受一个数组参数，并把它存储在类的<strong>$data</strong>属性里，这个数组是使用<strong>mysql_fetch_assoc()</strong>语句从数据库取出的一行，他存储着id和列表项的文字信息。<br><br>在这个 <strong>__toString() </strong>方法之后，它会在我们试图输出这个类的对象的时在内部调用，返回的字符串包含标签<strong>&lt;li&amp;gr;</strong>来包含待办事务的一个列表,每个列表有一个id和一个类名“todo”，这个类里由我们的待办文字信息和两个操作的超链接。<br><br><img src="http://blog.meituo.net/wp-content/uploads/daiban_ajax_php_jquery/i23.png" alt="AJAX,jQuery&amp;css 3 待办列表"><br><br>#### todo.class.php &ndash; Part 2<br><br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div></pre></td><td class="code"><pre><div class="line">/*</div><div class="line">		这个edit方法获得待办事项的id和新的文本，更新数据库</div><div class="line">	*/</div><div class="line"></div><div class="line">	public static function edit($id, $text)&#123;</div><div class="line">		//下方part 3有esc函数定义</div><div class="line">		$text = self::esc($text);</div><div class="line">		if(!$text) throw new Exception("Wrong update text!");</div><div class="line"></div><div class="line">		mysql_query("	UPDATE tz_todo</div><div class="line">						SET text='".$text."'</div><div class="line">						WHERE id=".$id</div><div class="line">					);</div><div class="line"></div><div class="line">		if(mysql_affected_rows($GLOBALS['link'])!=1)</div><div class="line">			throw new Exception("Couldn't update item!");</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	/*</div><div class="line">		delete方法 获得待办事项的id，并且在数据库中删除本项。</div><div class="line">	*/</div><div class="line"></div><div class="line">	public static function delete($id)&#123;</div><div class="line"></div><div class="line">		mysql_query("DELETE FROM tz_todo WHERE id=".$id);</div><div class="line"></div><div class="line">		if(mysql_affected_rows($GLOBALS['link'])!=1)</div><div class="line">			throw new Exception("Couldn't delete item!");</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	/*</div><div class="line">		 rearrange 方法会在待办列表 顺序改变时调用，有一个包含新列表顺序所有id的数组 传入参数。</div><div class="line">	*/</div><div class="line"></div><div class="line">	public static function rearrange($key_value)&#123;</div><div class="line"></div><div class="line">		$updateVals = array();</div><div class="line">		foreach($key_value as $k=&gt;$v)</div><div class="line">		&#123;</div><div class="line">			$strVals[] = 'WHEN '.(int)$v.' THEN '.((int)$k+1).PHP_EOL;</div><div class="line">		&#125;</div><div class="line"></div><div class="line">		if(!$strVals) throw new Exception("No data!");</div><div class="line"></div><div class="line">		// We are using the CASE SQL operator to update the ToDo positions en masse:</div><div class="line"></div><div class="line">		mysql_query("	UPDATE tz_todo SET position = CASE id</div><div class="line">						".join($strVals)."</div><div class="line">						ELSE position</div><div class="line">						END");</div><div class="line"></div><div class="line">		if(mysql_error($GLOBALS['link']))</div><div class="line">			throw new Exception("Error updating positions!");</div><div class="line">	&#125;</div></pre></td></tr></table></figure><br><br>类的定义 继续，定义了一个静态方法，静态方法是一个特殊的方法，可以不通过类的对象直接通过类调用，如：你可以这样调用这个方法 这样写：<strong>ToDo::edit($par1,$par2).</strong><br><br>注意到我们是使用exceptions来处理错误，当异常发生时暂停执行脚本，这时就需要这些脚本区抓取这些错误，并且输出合适的状态。<br><br>你也可以看到我们使用新列表待办项更新数据库的有趣方法，我们使用了MySQL可用的<strong>CASE</strong>操作，这样，不管数据库里有多少待办项，我们只执行一条query。<br><br>&gt; 保存查询结果并优化你的脚本，虽然很乏味，但是在长期运行里有很大的好处，你可以阅读一下<strong> CASE </strong>操作<a href="http://dev.mysql.com/doc/refman/5.0/en/case-statement.html" target="_blank" rel="external">MySQL’的官方文档</a>.<br><br>#### todo.class.php &ndash; Part 3<br><br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">	<span class="comment">/*</span></div><div class="line">		createNew方法 将 todo的文本 作为参数，写入数据库并使用AJAX输出新的todo到前端。</div><div class="line">	*/</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">createNew</span><span class="params">($text)</span></span>&#123;</div><div class="line"></div><div class="line">		$text = <span class="keyword">self</span>::esc($text);</div><div class="line">		<span class="keyword">if</span>(!$text) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">"Wrong input data!"</span>);</div><div class="line"></div><div class="line">		$posResult = mysql_query(<span class="string">"SELECT MAX(position)+1 FROM tz_todo"</span>);</div><div class="line"></div><div class="line">		<span class="keyword">if</span>(mysql_num_rows($posResult))</div><div class="line">			<span class="keyword">list</span>($position) = mysql_fetch_array($posResult);</div><div class="line"></div><div class="line">		<span class="keyword">if</span>(!$position) $position = <span class="number">1</span>;</div><div class="line"></div><div class="line">		mysql_query(<span class="string">"INSERT INTO tz_todo SET text='"</span>.$text.<span class="string">"', position = "</span>.$position);</div><div class="line"></div><div class="line">		<span class="keyword">if</span>(mysql_affected_rows($GLOBALS[<span class="string">'link'</span>])!=<span class="number">1</span>)</div><div class="line">			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="keyword">Exception</span>(<span class="string">"Error inserting TODO!"</span>);</div><div class="line"></div><div class="line">		<span class="comment">// Creating a new ToDo and outputting it directly:</span></div><div class="line"></div><div class="line">		<span class="keyword">echo</span> (<span class="keyword">new</span> ToDo(<span class="keyword">array</span>(</div><div class="line">			<span class="string">'id'</span>	=&gt; mysql_insert_id($GLOBALS[<span class="string">'link'</span>]),</div><div class="line">			<span class="string">'text'</span>	=&gt; $text</div><div class="line">		)));</div><div class="line"></div><div class="line">		<span class="keyword">exit</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="comment">/*</span></div><div class="line">		A helper method to sanitize a string:</div><div class="line">	*/</div><div class="line"></div><div class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="function"><span class="keyword">function</span> <span class="title">esc</span><span class="params">($str)</span></span>&#123;</div><div class="line"></div><div class="line">		<span class="keyword">if</span>(ini_get(<span class="string">'magic_quotes_gpc'</span>))</div><div class="line">			$str = stripslashes($str);</div><div class="line"></div><div class="line">		<span class="keyword">return</span> mysql_real_escape_string(strip_tags($str));</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125; <span class="comment">// closing the class definition</span></div></pre></td></tr></table></figure><br><br>访问同一个类的静态方法可以使用self::关键字，这样我们就可以使用<strong>esc()</strong>方法来转义用户输入的数据。<br><br>然后<srtring>creatNew()方法，在INSERT查询之后，我们使用返回<strong>mysql_inset_id()</strong>自动赋值的id ，创建一个新的todo对象然后输出到前端。<br><br>现在让我们看看怎么使用。</srtring><br><br>#### demo.php &ndash; Part 1<br><br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Select all the todos, ordered by position:</span></div><div class="line">$query = mysql_query(<span class="string">"SELECT * FROM `tz_todo` ORDER BY `position` ASC"</span>);</div><div class="line"></div><div class="line">$todos = <span class="keyword">array</span>();</div><div class="line"></div><div class="line"><span class="comment">// Filling the $todos array with new ToDo objects:</span></div><div class="line"></div><div class="line"><span class="keyword">while</span>($row = mysql_fetch_assoc($query))&#123;</div><div class="line">	$todos[] = <span class="keyword">new</span> ToDo($row);</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br>在<strong>demo.php</strong>包含<strong>todo.class.php</strong>,我们取出todo 列表，并循环查询结果，填充到$todos 数组里<br><br>#### demo.php &ndash; Part 2<br><br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Looping and outputting the $todos array. The __toString() method</span></div><div class="line"><span class="comment">// is used internally to convert the objects to strings:</span></div><div class="line"></div><div class="line"><span class="keyword">foreach</span>($todos <span class="keyword">as</span> $item)&#123;</div><div class="line">	<span class="keyword">echo</span> $item;</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br>然后在页面中，这些对象被输出，多亏<strong>__toString()</strong>方法，所有的标签自动生成，所以我们不用再处理了。<br><br>前端的问题是一些不同的AJAX请求，使用不同的文件处理这些的话就有点过了，所以最好的方法就是将他们集中到一个AJAX处理文件。我们使用<strong>ajax.php</strong><br><br>#### ajax.php<br><br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">$id = (int)$_GET[<span class="string">'id'</span>];</div><div class="line"></div><div class="line"><span class="keyword">try</span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">switch</span>($_GET[<span class="string">'action'</span>])</div><div class="line">	&#123;</div><div class="line">		<span class="keyword">case</span> <span class="string">'delete'</span>:</div><div class="line">			ToDo::delete($id);</div><div class="line">			<span class="keyword">break</span>;</div><div class="line"></div><div class="line">		<span class="keyword">case</span> <span class="string">'rearrange'</span>:</div><div class="line">			ToDo::rearrange($_GET[<span class="string">'positions'</span>]);</div><div class="line">			<span class="keyword">break</span>;</div><div class="line"></div><div class="line">		<span class="keyword">case</span> <span class="string">'edit'</span>:</div><div class="line">			ToDo::edit($id,$_GET[<span class="string">'text'</span>]);</div><div class="line">			<span class="keyword">break</span>;</div><div class="line"></div><div class="line">		<span class="keyword">case</span> <span class="string">'new'</span>:</div><div class="line">			ToDo::createNew($_GET[<span class="string">'text'</span>]);</div><div class="line">			<span class="keyword">break</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">catch</span>(<span class="keyword">Exception</span> $e)&#123;</div><div class="line"><span class="comment">//	echo $e-&gt;getMessage();</span></div><div class="line">	<span class="keyword">die</span>(<span class="string">"0"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">echo</span> <span class="string">"1"</span>;</div></pre></td></tr></table></figure><br><br>使用switch 语句，我们选择执行ToDo 类的哪个静态方法，如果在这些方法里发生错误，一个异常会发出，因为整个switch方法被封套到了一个<strong> try statement</strong>,脚本的停止和控制都传递给了catch语句，catch将通过输出0和并停止脚本执行。<br><br>你可以潜在的输出（write或者log）哪种错误发生了，如26行。<br><br>### Step 2 &ndash; MySQL<br><br><strong>tz_todo</strong>表保存并分配id给todo项（通过auto_increment）、位置（position）、文本内容（text）和添加时间的timestamp。<br><br><img src="http://blog.meituo.net/wp-content/uploads/daiban_ajax_php_jquery/i13.png" alt=" Database Schema"><br><br>你可以下载<strong>table.sql</strong>使用SQL语句来来创建，当然，如果你想在你的电脑上测试，不要忘记修改<strong>connect.php</strong>。<br><br>### Step 3 &ndash; XHTML<br><br>因为大多数代码都通过PHP产生，我们仅需要关心剩下的XHTML，首先，我们需要包含<strong>jQuery，jQuery UI</strong>和样式文件，将样式文件在头部加载,JavaScript在<strong>&lt;/body&amp;gr;</strong>后加载是一个好实践。<br><br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"jquery-ui.css"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> /&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"styles.css"</span> /&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"jquery-ui.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"script.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure><br><br>然后我们可以继续写剩下的代码了<br><br>#### demo.php<br><br><figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"> &lt;div id=<span class="string">"main"</span>&gt;</div><div class="line"></div><div class="line">	[Add a ToDo]()</div><div class="line"></div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">&lt;!-- This div is used <span class="keyword">as</span> the base <span class="keyword">for</span> the confirmation jQuery UI dialog box. Hidden by CSS. --&gt;</div><div class="line">&lt;div id=<span class="string">"dialog-confirm"</span> title=<span class="string">"Delete TODO Item?"</span>&gt;Are you sure you want to delete this TODO item?&lt;/div&gt;</div></pre></td></tr></table></figure><br><br>每一个todo 在todoList是一个li项 ，这样我们随后可以使用jQuery UI 的sortable方法轻易的转换为一个可以交互排序的元素，也是出于这样的目的，我们提高编码的语义。<br><br>### Step 4 &ndash; CSS<br><br>现在，让我再编写样式，为了更易读这里仅给出一部分原始代码，其他的可以在下载的<strong>style.css</strong>看到。<br><br>#### styles.css &ndash; Part 1<br><br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* The todo items are grouped into an UL unordered list */</span></div><div class="line"></div><div class="line"><span class="selector-tag">ul</span><span class="selector-class">.todoList</span>&#123;</div><div class="line">	<span class="attribute">margin</span>:<span class="number">0</span> auto;</div><div class="line">	<span class="attribute">width</span>:<span class="number">500px</span>;</div><div class="line">	<span class="attribute">position</span>:relative;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">ul</span><span class="selector-class">.todoList</span> <span class="selector-tag">li</span>&#123;</div><div class="line">	<span class="attribute">background-color</span>:<span class="number">#F9F9F9</span>;</div><div class="line">	<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#EEEEEE</span>;</div><div class="line">	<span class="attribute">list-style</span>:none;</div><div class="line">	<span class="attribute">margin</span>:<span class="number">6px</span>;</div><div class="line">	<span class="attribute">padding</span>:<span class="number">6px</span> <span class="number">9px</span>;</div><div class="line">	<span class="attribute">position</span>:relative;</div><div class="line">	<span class="attribute">cursor</span>:n-resize;</div><div class="line"></div><div class="line">	<span class="comment">/* CSS3 text shadow and rounded corners: */</span></div><div class="line"></div><div class="line">	<span class="attribute">text-shadow</span>:<span class="number">1px</span> <span class="number">1px</span> <span class="number">0</span> white;</div><div class="line"></div><div class="line">	<span class="attribute">-moz-border-radius</span>:<span class="number">6px</span>;</div><div class="line">	<span class="attribute">-webkit-border-radius</span>:<span class="number">6px</span>;</div><div class="line">	<span class="attribute">border-radius</span>:<span class="number">6px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">ul</span><span class="selector-class">.todoList</span> <span class="selector-tag">li</span><span class="selector-pseudo">:hover</span>&#123;</div><div class="line">	<span class="attribute">border-color</span>:<span class="number">#9be0f9</span>;</div><div class="line"></div><div class="line">	<span class="comment">/* CSS3 glow effect: */</span></div><div class="line">	<span class="attribute">-moz-box-shadow</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">#A6E5FD</span>;</div><div class="line">	<span class="attribute">-webkit-box-shadow</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">#A6E5FD</span>;</div><div class="line">	<span class="attribute">box-shadow</span>:<span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="number">#A6E5FD</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br>todoList ul在页面上是水平居中的，relative的定位，其中的li元素共享了CSS3的一些规则，这样，不幸的是在其他老的浏览器下不工作，但是可以使用完整的工作脚本（差异化显示）。<br><br>#### styles.css &ndash; Part 2<br><br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* The edit textbox */</span></div><div class="line"></div><div class="line"><span class="selector-class">.todo</span> <span class="selector-tag">input</span>&#123;</div><div class="line">	<span class="attribute">border</span>:<span class="number">1px</span> solid <span class="number">#CCCCCC</span>;</div><div class="line">	<span class="attribute">color</span>:<span class="number">#666666</span>;</div><div class="line">	<span class="attribute">font-family</span>:Arial,Helvetica,sans-serif;</div><div class="line">	<span class="attribute">font-size</span>:<span class="number">0.725em</span>;</div><div class="line">	<span class="attribute">padding</span>:<span class="number">3px</span> <span class="number">4px</span>;</div><div class="line">	<span class="attribute">width</span>:<span class="number">300px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/* The Save and Cancel edit links: */</span></div><div class="line"></div><div class="line"><span class="selector-class">.editTodo</span>&#123;</div><div class="line">	<span class="attribute">display</span>:inline;</div><div class="line">	<span class="attribute">font-size</span>:<span class="number">0.6em</span>;</div><div class="line">	<span class="attribute">padding-left</span>:<span class="number">9px</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-class">.editTodo</span> <span class="selector-tag">a</span>&#123;</div><div class="line">	<span class="attribute">font-weight</span>:bold;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span><span class="selector-class">.discardChanges</span>&#123;</div><div class="line">	<span class="attribute">color</span>:<span class="number">#C00</span> <span class="meta">!important</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="selector-tag">a</span><span class="selector-class">.saveChanges</span>&#123;</div><div class="line">	<span class="attribute">color</span>:<span class="number">#4DB209</span> <span class="meta">!important</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure><br><br>在第二部分，我们为input输入框写了样式，当todo列表项编辑、保存，取消时可以显示出来。<br><br><img src="http://blog.meituo.net/wp-content/uploads/daiban_ajax_php_jquery/i33.png" alt="jQuery UI Dialog Box"><br><br>### Step 5 &ndash; jQuery<br><br>然后JavaScript代码，这里我们使用了jQuery UI的接口组件 -<strong>sortable</strong>和<strong>dialog</strong>。这样会至少省下我们几个小时的开发时间，这是使用一个不错代码库的好出之一。<br><br>#### script.js &ndash; Part 1<br><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	<span class="comment">/* The following code is executed once the DOM is loaded */</span></div><div class="line"></div><div class="line">	$(<span class="string">".todoList"</span>).sortable(&#123;</div><div class="line">		<span class="attr">axis</span>		: <span class="string">'y'</span>,				<span class="comment">// Only vertical movements allowed</span></div><div class="line">		containment	: <span class="string">'window'</span>,			<span class="comment">// Constrained by the window</span></div><div class="line">		update		: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;		<span class="comment">// The function is called after the todos are rearranged</span></div><div class="line"></div><div class="line">			<span class="comment">// The toArray method returns an array with the ids of the todos</span></div><div class="line">			<span class="keyword">var</span> arr = $(<span class="string">".todoList"</span>).sortable(<span class="string">'toArray'</span>);</div><div class="line"></div><div class="line">			<span class="comment">// Striping the todo- prefix of the ids:</span></div><div class="line"></div><div class="line">			arr = $.map(arr,<span class="function"><span class="keyword">function</span>(<span class="params">val,key</span>)</span>&#123;</div><div class="line">				<span class="keyword">return</span> val.replace(<span class="string">'todo-'</span>,<span class="string">''</span>);</div><div class="line">			&#125;);</div><div class="line"></div><div class="line">			<span class="comment">// Saving with AJAX</span></div><div class="line">			$.get(<span class="string">'ajax.php'</span>,&#123;<span class="attr">action</span>:<span class="string">'rearrange'</span>,<span class="attr">positions</span>:arr&#125;);</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line"></div><div class="line">	<span class="comment">// A global variable, holding a jQuery object</span></div><div class="line">	<span class="comment">// containing the current todo item:</span></div><div class="line"></div><div class="line">	<span class="keyword">var</span> currentTODO;</div><div class="line"></div><div class="line">	<span class="comment">// Configuring the delete confirmation dialog</span></div><div class="line">	$(<span class="string">"#dialog-confirm"</span>).dialog(&#123;</div><div class="line">		<span class="attr">resizable</span>: <span class="literal">false</span>,</div><div class="line">		<span class="attr">height</span>:<span class="number">130</span>,</div><div class="line">		<span class="attr">modal</span>: <span class="literal">true</span>,</div><div class="line">		<span class="attr">autoOpen</span>:<span class="literal">false</span>,</div><div class="line">		<span class="attr">buttons</span>: &#123;</div><div class="line">			<span class="string">'Delete item'</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line"></div><div class="line">				$.get(<span class="string">"ajax.php"</span>,&#123;<span class="string">"action"</span>:<span class="string">"delete"</span>,<span class="string">"id"</span>:currentTODO.data(<span class="string">'id'</span>)&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</div><div class="line">					currentTODO.fadeOut(<span class="string">'fast'</span>);</div><div class="line">				&#125;)</div><div class="line"></div><div class="line">				$(<span class="keyword">this</span>).dialog(<span class="string">'close'</span>);</div><div class="line">			&#125;,</div><div class="line">			<span class="attr">Cancel</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">				$(<span class="keyword">this</span>).dialog(<span class="string">'close'</span>);</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;);</div></pre></td></tr></table></figure><br><br>为了显示dialog，我们需要基本的div，这个div将被转换为一个对话框，div的内容会被作为对话框的文字显示，DIV的标题属性的内容将成为对话窗口的标题。你可以在<strong>demo.php</strong>找到这个div（id=<strong>dialog-confirm</strong>）。<br><br>#### script.js &ndash; Part 2<br><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// When a double click occurs, just simulate a click on the edit button:</span></div><div class="line">$(<span class="string">'.todo'</span>).live(<span class="string">'dblclick'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$(<span class="keyword">this</span>).find(<span class="string">'a.edit'</span>).click();</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// If any link in the todo is clicked, assign</span></div><div class="line"><span class="comment">// the todo item to the currentTODO variable for later use.</span></div><div class="line"></div><div class="line">$(<span class="string">'.todo a'</span>).live(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line"></div><div class="line">	currentTODO = $(<span class="keyword">this</span>).closest(<span class="string">'.todo'</span>);</div><div class="line">	currentTODO.data(<span class="string">'id'</span>,currentTODO.attr(<span class="string">'id'</span>).replace(<span class="string">'todo-'</span>,<span class="string">''</span>));</div><div class="line"></div><div class="line">	e.preventDefault();</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// Listening for a click on a delete button:</span></div><div class="line"></div><div class="line">$(<span class="string">'.todo a.delete'</span>).live(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">	$(<span class="string">"#dialog-confirm"</span>).dialog(<span class="string">'open'</span>);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// Listening for a click on a edit button</span></div><div class="line"></div><div class="line">$(<span class="string">'.todo a.edit'</span>).live(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">	<span class="keyword">var</span> container = currentTODO.find(<span class="string">'.text'</span>);</div><div class="line"></div><div class="line">	<span class="keyword">if</span>(!currentTODO.data(<span class="string">'origText'</span>))</div><div class="line">	&#123;</div><div class="line">		<span class="comment">// Saving the current value of the ToDo so we can</span></div><div class="line">		<span class="comment">// restore it later if the user discards the changes:</span></div><div class="line"></div><div class="line">		currentTODO.data(<span class="string">'origText'</span>,container.text());</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">else</span></div><div class="line">	&#123;</div><div class="line">		<span class="comment">// This will block the edit button if the edit box is already open:</span></div><div class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	$(<span class="string">'&lt;input type="text"/&gt;'</span>).val(container.text()).appendTo(container.empty());</div><div class="line"></div><div class="line">	<span class="comment">// Appending the save and cancel links:</span></div><div class="line">	container.append(</div><div class="line">		<span class="string">'&lt;div class="editTodo"&gt;'</span>+</div><div class="line">			<span class="string">'[Save]() or [Cancel]()'</span>+</div><div class="line">		<span class="string">'&lt;/div&gt;'</span></div><div class="line">	);</div><div class="line"></div><div class="line">&#125;);</div></pre></td></tr></table></figure><br><br>注意我们绑定事件的<strong>live()</strong>方法，我们使用<strong>live()</strong>而不是<strong>bind()</strong>，因为live()能监听所有元素的事件，即使那些不存在的，这样我们能保证那些后来用户添加的todo列表项可以使用，我们也可以触发和现在存在的一样的事件句柄。<br><br>#### script.js &ndash; Part 3<br><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"> 	<span class="comment">// The cancel edit link:</span></div><div class="line"></div><div class="line">	$(<span class="string">'.todo a.discardChanges'</span>).live(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		currentTODO.find(<span class="string">'.text'</span>)</div><div class="line">					.text(currentTODO.data(<span class="string">'origText'</span>))</div><div class="line">					.end()</div><div class="line">					.removeData(<span class="string">'origText'</span>);</div><div class="line">	&#125;);</div><div class="line"></div><div class="line">	<span class="comment">// The save changes link:</span></div><div class="line"></div><div class="line">	$(<span class="string">'.todo a.saveChanges'</span>).live(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">		<span class="keyword">var</span> text = currentTODO.find(<span class="string">"input[type=text]"</span>).val();</div><div class="line"></div><div class="line">		$.get(<span class="string">"ajax.php"</span>,&#123;<span class="string">'action'</span>:<span class="string">'edit'</span>,<span class="string">'id'</span>:currentTODO.data(<span class="string">'id'</span>),<span class="string">'text'</span>:text&#125;);</div><div class="line"></div><div class="line">		currentTODO.removeData(<span class="string">'origText'</span>)</div><div class="line">					.find(<span class="string">".text"</span>)</div><div class="line">					.text(text);</div><div class="line">	&#125;);</div><div class="line"></div><div class="line">	<span class="comment">// The Add New ToDo button:</span></div><div class="line"></div><div class="line">	<span class="keyword">var</span> timestamp;</div><div class="line">	$(<span class="string">'#addButton'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line"></div><div class="line">		<span class="comment">// Only one todo per 5 seconds is allowed:</span></div><div class="line">		<span class="keyword">if</span>(<span class="built_in">Date</span>.now() - timestamp&amp;lt;<span class="number">5000</span>) <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">		$.get(<span class="string">"ajax.php"</span>,&#123;<span class="string">'action'</span>:<span class="string">'new'</span>,<span class="string">'text'</span>:<span class="string">'New Todo Item. Doubleclick to Edit.'</span>&#125;,<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>)</span>&#123;</div><div class="line"></div><div class="line">			<span class="comment">// Appending the new todo and fading it into view:</span></div><div class="line">			$(msg).hide().appendTo(<span class="string">'.todoList'</span>).fadeIn();</div><div class="line">		&#125;);</div><div class="line"></div><div class="line">		<span class="comment">// Updating the timestamp:</span></div><div class="line">		timestamp = <span class="built_in">Date</span>.now();</div><div class="line"></div><div class="line">		e.preventDefault();</div><div class="line">	&#125;);</div><div class="line"></div><div class="line">&#125;); <span class="comment">// Closing $(document).ready()</span></div></pre></td></tr></table></figure><br><br>在最后一部分，我们将事件绑定到了<strong>save</strong> 和<strong>cancel</strong>链接，这两个链接是点击edit时添加的，我们也给”<strong>Add</strong>“添加了事件监听，注意我们如何阻止过多点击，通过限制提交新todo的次数为5秒钟可以添加一次。<br><br><strong>现在我们的AJAX的待办事务列表完成了</strong><br><br>### 总结<br><br>今天我们创建了使用PHP，Mysql，jQuery做的简单的ajax待办事务列表，你可以使用它来创建你自己的任务管理应用或者将它转换为功能丰满的应用。<br><br><strong>你是怎么想的？你将如何修改这些代码？</strong><br><br><div class="download"><br><a href="http://demo.tutorialzine.com/2010/03/ajax-todo-list-jquery-php-mysql-css/demo.php" target="_blank" rel="external">示例</a><a href="http://demo.tutorialzine.com/2010/03/ajax-todo-list-jquery-php-mysql-css/demo.zip" target="_blank" rel="external">下载</a><br></div>

<p>英文原文<a href="http://tutorialzine.com/2010/03/ajax-todo-list-jquery-php-mysql-css/" target="_blank" rel="external">AJAX-ed Todo List With PHP, MySQL &amp; jQuery</a></p>

      
    </div>
  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/JavaScript/">JavaScript</a>, <a href="/categories/JavaScript/jQuery/">jQuery</a>
    </span>
    

    

    </div>

    
  </div>
</article>

  




    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2016 独孤逸辰
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>
